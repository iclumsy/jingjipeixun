<view class="page container">
  <view class="summary-card card fade-enter">
    <view class="summary-top">
      <view class="summary-title">我的提交</view>
      <view class="summary-count">{{students.length}} 条</view>
    </view>
    <view class="summary-desc">待审核和已通过记录仅查看，已驳回记录可进入编辑后重新提交。</view>
  </view>

  <view class="student-list">
    <block wx:for="{{students}}" wx:key="_id">
      <student-card
        student="{{item}}"
        data-id="{{item._id}}"
        data-student="{{item}}"
        bind:cardtap="onStudentTap"
      />
    </block>

    <view class="loading" wx:if="{{loading}}">
      <text>加载中...</text>
    </view>

    <view class="no-more" wx:if="{{!loading && !hasMore && students.length > 0}}">
      <text>已显示全部记录</text>
    </view>

    <view class="state-wrap" wx:if="{{!loading && students.length === 0}}">
      <view class="state-dot"></view>
      <view class="state-title">暂无提交记录</view>
      <view class="state-desc">填写学员信息后会显示在这里</view>
      <button class="btn btn-primary action-btn" bindtap="goToSubmit">去提交</button>
    </view>
  </view>
</view>
